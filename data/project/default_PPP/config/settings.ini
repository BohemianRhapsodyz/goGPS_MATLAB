#--------------------------------------------------------------------------------
[PROJECT]
#--------------------------------------------------------------------------------
# Name of the project
prj_name = "Default PPP project"
# Home of the project
prj_home = "../data/project/default_PPP/"

#--------------------------------------------------------------------------------
[DEPRECATE]
#--------------------------------------------------------------------------------
# Deprecate ini - path - it contains some legacy setting (now imported in the new settings system)
# [ WW ] if not empty the system will import its parameter overriding the one written in here
input_file_ini_path = ""

#--------------------------------------------------------------------------------
[RECEIVER_FILES]
#--------------------------------------------------------------------------------
# "sss_" parameters define the session of observation, they are used to substitute special keywords in file names
# Working session - first data of observation to consider (YYYY-MM-DD <hh:mm>)
# mainly used to detect the name of the file to process
sss_date_start = ""
# Working session - last data of observation to consider (YYYY-MM-DD <hh:mm>)
sss_date_stop = ""
# Id character sequence to be use for the session $(S) special keyword (e.g. "01233456789ABCabc")
sss_id_list = "0"
# First session id (char of sss_id_list)
sss_id_start = "0"
# Last session id (char of sss_id_list)
sss_id_stop = "0"

# Special Keywords that can be used in file names:
#  - ${WWWW} 4 char GPS week
#  - ${WWWWD} 4+1 char GPS week + day of the week
#  - ${D} 1 char day of the week
#  - ${HH} 2 char GPS hour
#  - ${6H} 2 char GPS hour (00, 06, 12, 18)
#  - ${YY} 2 char GPS year
#  - ${YYYY} 4 char GPS year
#  - ${DOY} 3 char GPS day of the year
#  - ${S} 1 char session

# Directory containing the data (static)
obs_dir = "../data/project/default_PPP/RINEX/"
# File name of the receivers (can contain special keywords)
obs_name = ["ZIMM2350.15O"]
# Array of observations type (0: Target, 1: Master, 2: SEID reference)
obs_type = 0

# Directory of PCO - PCV antex (ATX) files
atx_dir = "../data/project/default_PPP/antenna/ATX/"
# PCO - PCV antex (ATX) file
atx_name = "I08.ATX"

#--------------------------------------------------------------------------------
[GEOMETRY]
#--------------------------------------------------------------------------------
# When using multiple receivers it is possible to set the relative position of each
# receiver w.r.t. a local reference frame
# Positions are expressed in a XYZ RF as an array "xyz_ant_${NN}" where $NN is
# the (target) receiver number (as ordered in obs_name) starting from 01
xyz_ant_01 = [0 0 0]
# Indicate the "baricenter" of the structure -> evaluation point
xyz_ev_point = [0 0 0]

#--------------------------------------------------------------------------------
[COMPUTATION_CENTER]
#--------------------------------------------------------------------------------
# List of the computeation center to be used for ephemeris retrival
# Every product is searched locally, when not found is downloaded
# When the file is not found, the system fall back on the next available

# Preferred list of web archives,
# accepted values: "cddis" "igscb" "custom"
preferred_archive = ["cddis" "igscb" "custom"]
# Preferred source for GPS only solution, 
# accepted values: "igs" "emx" "gfz"
preferred_gps = ["igs" "emx" "gfz"]
# Preferred source for GPS/GLONASS only solution,
# accepted values: "igs" "emx" "gfz"
preferred_glo = ["igs" "emx" "gfz"]
# Preferred source for Multiconstellation solution,
# accepted values: "gbm"
preferred_mxd = ["gbm"]
# Preferred ephemeris type, valid only for source "igs",
# accepted values: "final" "rapid" "ultra" "broadcast"
preferred_eph = ["final" "rapid" "ultra" "broadcast"]
# Preferred clock types, valid but for "igs" glonass,
# accepted values: "clk_30s" "clk"
preferred_clk = ["clk_30s" "clk"]

# A custom center/product can also be used
# (all the fields are strings)
custom_addr = "cddis.gsfc.nasa.gov/"
custom_port = "21"
custom_path = "pub/gps/products/"
# The "variable" part of the path should be in the name, e.g. ${WWWW}/igs${WWWWD}.sp3
custom_name_eph = "${WWWW}/igs${WWWWD}.sp3"
custom_name_erp = "${WWWW}/igs${WWWWD}.erp"
custom_name_clk = "${WWWW}/igs${WWWWD}.clk_30s"

#--------------------------------------------------------------------------------
[INPUT_SATELLITE]
#--------------------------------------------------------------------------------
# Directory of Ephemeris files
eph_dir = "../data/satellite/EPH/"
# Name of Ephemeris files - special keywords can be used
# If not found, goGPS will try to download them following COMPUTATUIN_CENTER section
eph_name = ""

# Directory of clock offset files
clk_dir = "../data/satellite/CLK/"
# If not found, goGPS will try to download them following COMPUTATUIN_CENTER section
# Name of clock offset files - special keywords can be used
clk_name = ""

# Directory of CRX files (containing satellite problems)
crx_dir = "../data/satellite/CRX/"

# Directory of DCB files (Differential Code Biases)
dcb_dir = "../data/satellite/DCB/"

# Directory of EMS files (EGNOS Message Server).
ems_dir = "../data/satellite/SBAS/EMS/"

#--------------------------------------------------------------------------------
[INPUT_STATIONS]
#--------------------------------------------------------------------------------
# Directory of coordinates files
crd_dir = "../data/project/default_PPP/station/CRD"
# Name of coordinates (CRD) file
crd_name = "stations.crd"
# Directory of metereological data
met_dir = "../data/project/default_PPP/station/MET"
# Meteorological file
met_name = "zimm2350.15m"
# Directory of ocean loading files
ocean_dir = "../data/project/default_PPP/station/ocean"
# Name of ocean loading file
ocean_name = "ocean_loading.blq"

#--------------------------------------------------------------------------------
[INPUT_REFERENCE]
#--------------------------------------------------------------------------------
# File containing a graph of path constraints
ref_graph_file = ""
# Directory of Geoid files
geoid_dir = "../data/reference/geoid/"
# Directory of DTM data
dtm_dir = "../data/reference/dtm/"

#--------------------------------------------------------------------------------
[INPUT_UI]
#--------------------------------------------------------------------------------
# Directory of images for UI
img_dir = "../data/img/"
# Path to the image of the logo 64x64 px
img_logo64 = "../data/img/goGPS_logo_64.png"

#--------------------------------------------------------------------------------
[OUTPUT]
#--------------------------------------------------------------------------------

out_dir = "../data/project/default_PPP/out"
out_prefix = "zimm_PPP"
# Current run number
run_counter = 26


#--------------------------------------------------------------------------------
[RECEIVERS]
#--------------------------------------------------------------------------------
# Default STD of code observations [m]
std_code = 0.3
# Default STD of phase observations [m]
std_phase = 0.003
# Default STD of iono-free phase observations [m
std_phase_if = 0.009
# Default STD of a priori receiver clock
sigma0_clock = 4.47e-09
# Default STD of receiver clock
sigma0_r_clock = 31

# Read master position from RINEX (0/1)
flag_rinex_mpos = 1
# Default Master position (this values are read when not specified elsewhere)
mpos_XYZ = [0 0 0]

#--------------------------------------------------------------------------------
[DATA_SELECTION]
#--------------------------------------------------------------------------------
# Constallations for the processing:
# GPS satellite system
GPS_is_active = 1
# Frequencies to be used when this constellation is active
GPS_L1 = 1
GPS_L2 = 1
GPS_L5 = 0

# GLONASS satellite system
GLO_is_active = 0
# Frequencies to be used when this constellation is active
GLO_R1 = 0
GLO_R2 = 0
GLO_R3 = 0

# Galileo satellite system
GAL_is_active = 0
# Frequencies to be used when this constellation is active
GAL_E1 = 0
GAL_E5a = 0
GAL_E5b = 0
GAL_E5 = 0
GAL_E6 = 0

# BeiDou satellite system
BDS_is_active = 0
# Frequencies to be used when this constellation is active
BDS_C2 = 0
BDS_C5b = 0
BDS_C6 = 0
BDS_C1 = 0

# QZSS satellite system
QZS_is_active = 0
# Frequencies to be used when this constellation is active
QZS_J1 = 0
QZS_J2 = 0
QZS_J5 = 0
QZS_J6 = 0

# SBAS satellite system
SBS_is_active = 0
# Frequencies to be used when this constellation is active
SBS_L1 = 0
SBS_L2 = 0

# Processing using a minimum rate of [s]:
p_rate = 30
# Minimum number of satellite per epoch
min_n_sat = 2
# Cut-off [degrees]
cut_off = 10
# Signal-to-noise ratio threshold [dB]
snr_thr = 0
# Enable ocean tides modeling (0/1)
flag_ocean = 1
# Minimum length an arc (a satellite to be used must be seen for a number of consecutive epochs equal or greater than this value)
min_arc = 10

#--------------------------------------------------------------------------------
[PRE_PROCESSING]
#--------------------------------------------------------------------------------
# Enable pre-processing (0/1)
flag_pre_pro = 1
# Cycle slip threshold [cycles]
cs_thr_pre_pro = 1

#--------------------------------------------------------------------------------
[OUTLIER_DETECTION]
#--------------------------------------------------------------------------------
# Enable outlier detection (0/1)
flag_outlier = 1
# Threshold on code LS estimation error [m]
pp_spp_thr = 4
# Threshold on maximum residual of code obs [m]
pp_max_code_err_thr = 3
# Threshold on maximum residual of phase obs [m]
pp_max_phase_err_thr = 0.05

#--------------------------------------------------------------------------------
[PROCESSING]
#--------------------------------------------------------------------------------
# Processing using mode:
p_mode = 4
#  24: Real Time Navigation (Kalman Filter on Code and Phase Double Differences (with/without a constraint)
#  21: Real Time Rover Monitor
#  22: Real Time Master Monitor
#  23: Real Time Master + Rover Monitor
#  01: Post Proc Least Squares on Code Stand Alone
#  03: Post Proc Least Squares on Code and Phase Stand Alone
#  05: Post Proc Least Squares on Code and Phase for Velocity estimation
#  11: Post Proc Least Squares on Code Double Differences
#  13: Post Proc Least Squares on Code and Phase Double Differences with LAMBDA
#  16: Post Proc Least Squares on Code and Phase Double Differences, Multiple Receivers
#  17: Post Proc Least Squares on Code Stand Alone, Multiple Receivers
#  02: Post Proc Kalman Filter on Code Stand Alone
#  12: Post Proc Kalman Filter on Code Double Differences
#  04: Post Proc Kalman Filter on Code and Phase Stand Alone (PPP)
#  14: Post Proc Kalman Filter on Code and Phase Double Differences
#  15: Post Proc Kalman Filter on Code and Phase Double Differences, Multiple Receivers (SEID - only rinex writing)
#  18: SEID followed by PPP (Kalman Filter on Code and Phase Stand Alone (PPP)) it is both stand alone and DD

# Compute tropospheric indicators (e.g. ZTD):
flag_tropo = 1
# Variometric step [s] for velocity estimation
variometric_step = 1
# Processing using weighting mode:
w_mode = 1
#  0: same weight for all the observations
#  1: weight based on satellite elevation (sin)
#  2: weight based on satellite elevation (exp)
#  3: weight based on signal-to-noise ratio
#  4: weight based on combined elevation and signal-to-noise ratio

# Weight function parameters (when based on SNR): a / 0 / 1 / A
w_snr = [30 10 10 30]
# Cycle slip threshold (processing) [cycles]
cs_thr = 1e+30
# Enable usage of iono-free combination in PPP (0/1)
flag_ionofree = 1
# Constrain the solution using a reference path
constrain = 0
# Enable / Disable stop go stop mode option (0/1)
stop_go_stop = 0

#--------------------------------------------------------------------------------
[AMBIGUITY]
#--------------------------------------------------------------------------------
# Use integer ambiguity resolution (0/1)
flag_iar = 0

# Ambiguity restart mode
iar_restart_mode = 1
#  0: Observed code - phase difference
#  1: Kalman-predicted code - phase difference
#  2: Least squares adjustment
# Ambiguity detection mode
iar_mode = 0
#  0: ILS method with numeration in search (LAMBDA2)
#  1: ILS method with shrinking ellipsoid during search (LAMBDA3)
#  2: ILS method with numeration in search (LAMBDA3)
#  3: integer rounding method (LAMBDA3)
#  4: integer bootstrapping method (LAMBDA3)
#  5: Partial Ambiguity Resolution (PAR) (LAMBDA3)

# User defined fixed failure rate (methods 1,2) / user defined minimum success rate (for method 5)
iar_p0 = 0.001
# STD of a priori ambiguity combinations [cycles]
sigma0_N = 31
# User defined threshold for ratio test
iar_mu = 0.5
# Automatic determination of mu (0/1)
flag_iar_auto_mu = 1
# Use default value for P0 (0/1)
flag_iar_default_p0 = 1
# Use Doppler-predicted phase range for detecting cycle slips (0/1)
flag_doppler = 0

#--------------------------------------------------------------------------------
[KALMAN_FILTER]
#--------------------------------------------------------------------------------
# Order of the KF
kf_mode = 0
# When capture/monitor modes are in use
#  0: constant
#  1: variable
# When post processing is in use:
#  0: static
#  1: constant velocity
#  2: constant acceleration
#  3: variable (stop-go-stop)

# STD of initial state [m]
sigma0_k_pos = 1
# STD of ENU variation [m] / [m/s] / [m/s^2]
std_k_ENU = [0.5 0.5 0.1]
# STD of 3D modulus variation [m] / [m/s] / [m/s^2]
std_k_vel_mod = 1
# STD of a priori tropospheric delay
sigma0_tropo = 0.1
# STD of tropospheric delay
std_tropo = 0.00045644

#--------------------------------------------------------------------------------
[ATMOSPHERE]
#--------------------------------------------------------------------------------
# Ionospheric model
iono_model = 2
#  0: no model
#  1: Geckle and Feen model
#  2: Klobuchar model
#  3: SBAS grid

# Tropospheric model
tropo_model = 2
#  0: no model
#  1: Saastamoinen model (with standard atmosphere parameters)
#  2: Saastamoinen model (with Global Pressure Temperature model)

#--------------------------------------------------------------------------------
[DTM]
#--------------------------------------------------------------------------------
# Use DTM (0/1)
flag_dtm = 0
# STD of DEM model [m]
std_dtm = 1e+30
# Elevation of the antenna above ground [m]
antenna_h = 0

#--------------------------------------------------------------------------------
[UI]
#--------------------------------------------------------------------------------
# Plot during processing (0/1)
plot_proc = 0
# Plot reference during processing (0/1)
plot_ref_path = 0
# Plot sky plot during processing (0/1)
plot_skyplot_snr = 1
# Plot error_ellipse (0/1)
plot_err_ellipse = 0
# Plot ambiguities (0/1)
plot_ambiguities = 0
# Plot master station (0/1)
plot_master = 0
# Plot on google earth (0/1)
plot_google_earth = 0

#--------------------------------------------------------------------------------
[CAPTURE]
#--------------------------------------------------------------------------------
# Number of receivers for capturing data
c_n_receivers = 1
# Capture rate
c_rate = 1

# Protocol for receiver 1
c_prtc_01 = 1
#  1: UBX (u-blox)
#  2: iTalk (Fastrax)
#  3: SkyTraq
#  4: BINR (NVS)

# COM address for receiver 1
c_com_addr_01 = "/dev/tty.lpss-serial1"

#--------------------------------------------------------------------------------
[NTRIP]
#--------------------------------------------------------------------------------
# Use NTRIP protocol (0/1)
flag_ntrip = 1
# Here the NTRIP server parameters will follow (ip_addr, port, mountpoint, user, password, approximate_position):
ip_addr = "127.0.0.1"
port = "2101"
mountpoint = "/"
username = "user"
password = ""
# Approximate position [degrees / degrees / m]:
ntrip_lat = 0
ntrip_lon = 0
ntrip_h = 0

