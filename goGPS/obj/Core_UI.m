%   CLASS Core_UI
% =========================================================================
%
% DESCRIPTION
%   class to manages the user interface of goGPS
%
% EXAMPLE
%   ui = Core_UI.getInstance();
%
% FOR A LIST OF CONSTANTs and METHODS use doc Core_UI


%--------------------------------------------------------------------------
%               ___ ___ ___
%     __ _ ___ / __| _ | __
%    / _` / _ \ (_ |  _|__ \
%    \__, \___/\___|_| |___/
%    |___/                    v 0.6.0 alpha 1 - nightly
%
%--------------------------------------------------------------------------
%  Copyright (C) 2009-2018 Mirko Reguzzoni, Eugenio Realini
%  Written by:       Gatti Andrea
%  Contributors:     Gatti Andrea, ...
%  A list of all the historical goGPS contributors is in CREDITS.nfo
%--------------------------------------------------------------------------
%
%    This program is free software: you can redistribute it and/or modify
%    it under the terms of the GNU General Public License as published by
%    the Free Software Foundation, either version 3 of the License, or
%    (at your option) any later version.
%
%    This program is distributed in the hope that it will be useful,
%    but WITHOUT ANY WARRANTY; without even the implied warranty of
%    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%    GNU General Public License for more details.
%
%    You should have received a copy of the GNU General Public License
%    along with this program.  If not, see <http://www.gnu.org/licenses/>.
%
%--------------------------------------------------------------------------
% 01100111 01101111 01000111 01010000 01010011
%--------------------------------------------------------------------------

classdef Core_UI < handle

    properties (Constant)
        FONT_SIZE_CONVERSION_LNX = 1.1;
        FONT_SIZE_CONVERSION_MAC = 1.4;
        FONT_SIZE_CONVERSION_WIN = 1;
    end
    %% PROPERTIES SINGLETON POINTERS
    % ==================================================================================================================================================
    properties % Utility Pointers to Singletons
        log
        state
        w_bar
    end

    %% PROPERTIES GUI    
    % ==================================================================================================================================================
    properties
        w_main
        w_splash
        j_settings
    end

    %% PROPERTIES STATUS    
    % ==================================================================================================================================================
    properties (GetAccess = private, SetAccess = private)
        ok_go = false;
    end
    
    %% METHOD CREATOR
    % ==================================================================================================================================================
    methods (Static, Access = private)
        % Concrete implementation.  See Singleton superclass.
        function this = Core_UI()
            % Core object creator
            this.log = Logger.getInstance();
            this.state = Global_Configuration.getCurrentSettings();
            this.w_bar = Go_Wait_Bar.getInstance(100,'Init core GUI', Core.GUI_MODE);  % 0 means text, 1 means GUI, 5 both
        end
    end
    
    %% METODS UI
    % ==================================================================================================================================================
    methods (Static, Access = public)
        function this = getInstance()
            % Get the persistent instance of the class
            persistent unique_instance_core_ui__
            
            if isempty(unique_instance_core_ui__)
                this = Core_UI();
                unique_instance_core_ui__ = this;
            else
                this = unique_instance_core_ui__;
                this.ok_go = false;
            end
        end

        function showTextHeader()
            this.log = Logger.getInstance();
            if this.log.getColorMode()
                %cprintf([241 160 38]/255,'\n               ___ ___ ___\n     __ _ ___ / __| _ | __|\n    / _` / _ \\ (_ |  _|__ \\\n    \\__, \\___/\\___|_| |___/\n    |___/                    '); cprintf('text','v '); cprintf('text', Core.GO_GPS_VERSION); fprintf('\n');
                cprintf([0 163 222]/255,'\n               ___ ___ ___\n     __ _ ___ / __| _ | __|\n    / _` / _ \\ (_ |  _|__ \\\n    \\__, \\___/\\___|_| |___/\n    |___/                    '); cprintf('text','v '); cprintf('text', Core.GO_GPS_VERSION); fprintf('\n');
                fprintf('\n--------------------------------------------------------------------------\n');
            else
                fprintf('\n               ___ ___ ___\n     __ _ ___ / __| _ | __|\n    / _` / _ \\ (_ |  _|__ \\\n    \\__, \\___/\\___|_| |___/\n    |___/                    v %s\n', Core.GO_GPS_VERSION);
                fprintf('\n');
                fprintf('--------------------------------------------------------------------------\n');
            end
            this.log.addWarning('This is goGPS nightly build\nSome parts (or all of it) could not work properly\nUse at your own risk!');
            fprintf('--------------------------------------------------------------------------\n\n');
        end

        function [logo, transparency] = getLogo()
            transparency = uint8([ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 80 223 223 80 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 48 191 255 255 255 255 191 48 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 159 255 255 255 255 255 255 255 255 159 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 112 239 255 255 255 255 255 255 255 255 255 255 239 112 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 64 223 255 255 255 255 255 255 255 255 255 255 255 255 255 255 223 64 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 32 191 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 191 32 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 143 255 255 255 255 255 255 255 255 255 255 175 175 255 255 255 255 255 255 255 255 255 255 143 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 96 239 255 255 255 255 255 255 255 255 255 223 64 0 0 64 223 255 255 255 255 255 255 255 255 255 239 96 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 64 207 255 255 255 255 255 255 255 255 255 239 112 0 0 0 0 0 0 112 239 255 255 255 255 255 255 255 255 255 207 64 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 32 175 255 255 255 255 255 255 255 255 255 255 143 16 0 0 0 0 0 0 0 0 16 143 255 255 255 255 255 255 255 255 255 255 175 32 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 16 128 255 255 255 255 255 255 255 255 255 255 191 32 0 0 0 0 0 0 0 0 0 0 0 0 32 191 255 255 255 255 255 255 255 255 255 255 128 16 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 96 223 255 255 255 255 255 255 255 255 255 223 80 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 80 223 255 255 255 255 255 255 255 255 255 223 96 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 64 191 255 255 255 255 255 255 255 255 255 239 128 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 128 239 255 255 255 255 255 255 255 255 255 191 64 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 16 159 255 255 255 255 255 255 255 255 255 255 159 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 159 255 255 255 255 255 255 255 255 255 255 159 16 0 0 0 0 0 0 0;
                0 0 0 0 0 0 128 239 255 255 255 255 255 255 255 255 255 191 48 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 48 191 255 255 255 255 255 255 255 255 255 239 128 0 0 0 0 0 0;
                0 0 0 0 80 223 255 255 255 255 255 255 255 255 255 223 96 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 96 223 255 255 255 255 255 255 255 255 255 223 80 0 0 0 0;
                0 0 0 0 191 255 255 255 255 255 255 255 255 239 128 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 128 239 255 255 255 255 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 255 255 255 159 32 0 0 0 0 0 0 32 112 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 32 112 16 0 0 0 0 0 0 32 159 255 255 255 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 255 207 64 0 0 0 0 0 0 16 143 255 255 239 96 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 128 255 255 239 96 0 0 0 0 0 0 0 64 207 255 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 207 0 0 0 0 0 0 0 112 239 255 255 255 255 255 207 64 0 0 0 0 0 0 0 0 0 0 0 0 96 223 255 255 255 255 255 207 64 0 0 0 0 0 0 0 207 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 64 223 255 255 255 255 255 255 255 255 255 175 32 0 0 0 0 0 0 0 0 64 191 255 255 255 255 255 255 255 255 255 159 32 0 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 32 175 255 255 255 255 255 255 255 255 255 255 255 255 239 128 16 0 0 0 0 32 159 255 255 255 255 255 255 255 255 255 255 255 255 239 128 16 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 48 255 255 255 255 255 255 255 255 207 255 255 255 255 255 255 255 175 0 0 0 48 239 255 255 255 255 255 255 255 191 255 255 255 255 255 255 255 223 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 255 255 175 32 0 64 223 255 255 255 255 255 191 0 0 0 64 255 255 255 255 255 255 191 32 0 64 223 255 255 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 207 64 0 0 0 0 0 112 239 255 255 255 191 0 0 0 64 255 255 255 255 223 64 0 0 0 0 0 112 239 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 64 0 0 0 0 0 0 0 128 255 255 255 191 0 0 0 64 255 255 255 255 64 0 0 0 0 0 0 0 128 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 64 0 0 0 0 0 0 0 128 255 255 255 191 0 0 0 64 255 255 255 255 64 0 0 0 0 0 0 0 128 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 64 0 0 0 0 0 0 0 128 255 255 255 191 0 0 0 64 255 255 255 255 64 0 0 0 0 0 0 0 128 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 64 0 0 0 0 0 0 0 128 255 255 255 191 0 0 0 64 255 255 255 255 64 0 0 0 0 0 0 0 128 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 96 0 0 0 0 0 0 0 159 255 255 255 191 0 0 0 64 255 255 255 255 96 0 0 0 0 0 0 0 159 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 255 159 32 0 0 0 64 223 255 255 255 255 191 0 0 0 64 255 255 255 255 255 175 32 0 0 0 64 207 255 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 64 255 255 255 255 255 255 239 128 48 175 255 255 255 255 255 255 191 0 0 0 64 255 255 255 255 255 255 255 128 48 175 255 255 255 255 255 255 255 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 16 159 255 255 255 255 255 255 255 255 255 255 255 255 255 255 239 112 0 0 0 16 175 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 128 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 64 207 255 255 255 255 255 255 255 255 255 255 255 159 16 0 0 0 0 0 0 64 207 255 255 255 255 255 255 255 255 255 255 255 175 32 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 96 239 255 255 255 255 255 255 255 191 48 0 0 0 0 0 0 0 0 0 0 96 239 255 255 255 255 255 255 255 207 64 0 0 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 16 128 255 255 255 255 223 96 0 0 0 0 0 0 0 0 0 0 0 0 0 16 128 255 255 255 255 239 96 0 0 0 0 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 0 0 32 175 239 128 16 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 0 32 191 255 143 16 0 0 0 0 0 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 128 175 0 0 0 0 0 0 0 0 0 0 0 0 16 0 0 0 0 0 0 0 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 96 223 255 191 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 143 16 0 0 0 0 0 48 191 255 255 255 191 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 64 128 112 0 0 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 255 239 112 0 0 16 159 255 255 255 255 255 191 0 0 0 0 0 0 0 0 0 0 0 0 0 0 159 255 255 239 48 0 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 255 255 255 223 143 239 255 255 255 255 255 255 191 0 0 0 0 0 0 0 0 0 0 0 0 0 128 255 64 64 80 96 16 0 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 255 255 255 255 255 255 255 255 255 255 255 191 48 0 0 0 0 0 0 0 0 0 0 32 32 0 175 255 207 255 255 255 239 16 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 191 0 0 0 0 0 0 0 255 255 255 255 255 255 255 255 255 223 80 0 0 0 0 0 0 0 0 0 0 16 159 255 255 96 48 239 255 223 143 207 255 64 0 0 0 191 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 207 0 0 0 0 0 0 0 175 255 255 255 255 255 255 239 128 0 0 0 0 0 0 0 0 0 0 0 128 239 239 175 255 239 0 0 16 64 0 175 255 32 0 0 0 207 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 255 207 64 0 0 0 0 0 0 64 207 255 255 255 159 32 0 0 0 0 0 0 0 0 0 0 0 16 239 255 112 16 255 255 0 32 223 255 255 255 96 0 0 64 207 255 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 255 255 255 159 32 0 0 0 0 0 0 96 175 64 0 0 0 0 0 0 0 0 0 0 32 128 96 0 112 255 239 223 255 96 0 0 112 191 159 32 0 32 159 255 255 255 255 255 255 255 191 0 0 0 0;
                0 0 0 0 191 255 255 255 255 255 255 255 255 239 128 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 143 255 255 239 80 0 223 255 223 48 0 0 0 0 0 0 16 128 239 255 255 255 255 255 255 255 255 191 0 0 0 0;
                0 0 0 0 80 223 255 255 255 255 255 255 255 255 255 223 96 0 0 0 0 0 0 0 0 0 0 0 0 0 0 159 255 128 96 48 96 80 64 255 255 32 0 0 0 0 0 96 223 255 255 255 255 255 255 255 255 255 223 80 0 0 0 0;
                0 0 0 0 0 0 128 239 255 255 255 255 255 255 255 255 255 191 48 0 0 0 0 0 0 0 0 0 0 0 16 255 207 0 48 207 255 239 16 191 255 191 0 0 0 48 191 255 255 255 255 255 255 255 255 255 239 128 0 0 0 0 0 0;
                0 0 0 0 0 0 0 16 159 255 255 255 255 255 255 255 255 255 255 159 16 0 0 0 0 0 0 0 0 0 32 255 239 16 64 207 191 255 112 32 175 32 0 16 159 255 255 255 255 255 255 255 255 255 255 159 16 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 64 191 255 255 255 255 255 255 255 255 255 239 128 0 0 0 0 0 0 0 0 0 223 255 159 0 16 207 255 64 0 0 0 128 239 255 255 255 255 255 255 255 255 255 191 64 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 96 223 255 255 255 255 255 255 255 255 255 223 80 0 0 0 0 0 0 0 80 255 255 207 239 255 96 0 0 80 223 255 255 255 255 255 255 255 255 255 223 96 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 16 128 255 255 255 255 255 255 255 255 255 255 191 32 0 0 0 0 0 0 80 223 255 175 64 0 32 191 255 255 255 255 255 255 255 255 255 255 128 16 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 32 175 255 255 255 255 255 255 255 255 255 255 143 16 0 0 0 0 0 0 0 0 16 143 255 255 255 255 255 255 255 255 255 255 175 32 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 64 207 255 255 255 255 255 255 255 255 255 239 112 0 0 0 0 0 0 112 239 255 255 255 255 255 255 255 255 255 207 64 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 96 239 255 255 255 255 255 255 255 255 255 223 64 0 0 64 223 255 255 255 255 255 255 255 255 255 239 96 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 143 255 255 255 255 255 255 255 255 255 255 175 175 255 255 255 255 255 255 255 255 255 255 143 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 32 191 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 191 32 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 64 223 255 255 255 255 255 255 255 255 255 255 255 255 255 255 223 64 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 112 239 255 255 255 255 255 255 255 255 255 255 239 112 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 16 159 255 255 255 255 255 255 255 255 159 16 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 48 191 255 255 255 255 191 48 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 80 223 223 80 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]);

            logo = uint8(zeros(size(transparency,1), size(transparency,2), 3));
            logo(:,:,1) = uint8([ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 220 223 224 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 249 250 251 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 209 213 217 220 223 225 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 243 245 247 249 250 252 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 202 206 209 213 216 219 223 225 228 0 0 0 0 0 0 0 0 0 0 0 0 239 241 243 245 246 248 250 251 253 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 191 195 198 202 205 209 212 215 219 222 225 228 230 0 0 0 0 0 0 0 0 233 235 237 239 241 243 244 246 248 250 252 253 254 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 180 184 188 191 194 198 201 205 208 211 215 218 221 225 228 230 232 0 0 0 0 228 229 231 233 235 237 239 240 242 244 246 248 249 251 253 254 255 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 174 177 180 184 187 190 194 197 200 204 207 211 214 217 221 224 228 230 0 0 0 224 226 227 229 231 233 235 236 238 240 242 244 245 247 249 251 253 254 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 171 173 176 180 183 186 190 193 197 0 205 207 210 213 217 220 223 227 0 0 0 223 224 225 227 229 231 233 234 237 0 241 242 243 245 247 249 250 252 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 167 169 172 176 179 182 187 0 0 0 0 0 207 209 213 216 219 223 0 0 0 220 221 223 225 227 229 231 0 0 0 0 0 242 243 245 247 248 250 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 163 165 168 172 175 177 0 0 0 0 0 0 0 206 209 212 215 219 0 0 0 218 219 221 223 225 226 0 0 0 0 0 0 0 241 243 244 246 248 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 159 161 164 167 171 173 0 0 0 0 0 0 0 202 205 208 211 215 0 0 0 216 217 219 221 223 224 0 0 0 0 0 0 0 239 240 242 244 246 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 155 157 160 163 167 169 0 0 0 0 0 0 0 198 201 204 207 211 0 0 0 214 215 217 219 220 222 0 0 0 0 0 0 0 237 238 240 242 244 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 151 153 156 159 163 165 0 0 0 0 0 0 0 194 197 200 203 207 0 0 0 212 213 215 216 218 220 0 0 0 0 0 0 0 235 236 238 240 242 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 147 149 152 155 159 161 0 0 0 0 0 0 0 189 193 196 199 203 0 0 0 210 211 213 214 216 217 0 0 0 0 0 0 0 232 234 236 238 239 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 143 145 148 151 155 158 161 163 0 0 0 178 182 185 189 192 195 198 0 0 0 208 209 210 212 214 216 217 218 0 0 0 226 228 230 232 234 236 237 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 139 141 144 147 151 154 157 161 163 166 171 174 178 181 185 188 191 194 0 0 0 205 206 208 210 212 214 215 217 218 220 223 224 226 228 230 232 233 235 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 136 137 140 143 147 150 153 157 160 164 167 170 174 177 181 184 187 191 0 0 0 204 205 206 208 210 211 213 215 217 219 220 222 224 226 228 229 231 233 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 138 140 143 146 149 153 156 160 163 166 170 173 176 181 183 0 0 0 0 0 0 205 206 208 209 211 213 215 217 218 220 222 224 225 227 230 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 140 142 145 149 152 156 159 162 166 169 173 0 0 0 0 0 0 0 0 0 0 206 207 209 211 213 214 216 218 220 222 224 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 141 142 145 148 152 155 158 163 0 0 0 0 0 0 0 0 0 0 0 0 0 207 207 209 210 212 214 216 218 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 144 145 147 152 154 0 0 0 0 0 232 0 0 0 0 0 0 0 0 0 0 208 209 210 212 214 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 219 223 228 0 0 0 0 0 0 0 0 0 0 0 0 209 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 208 214 218 222 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 162 164 0 0 0 0 0 195 199 204 209 213 217 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 158 162 165 0 0 180 184 190 194 198 203 208 212 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 153 157 162 166 170 175 180 184 189 193 198 202 206 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 147 152 156 161 165 170 174 179 183 188 192 197 202 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 142 146 151 155 160 164 169 174 178 183 187 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 138 141 146 150 155 159 163 168 173 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 138 141 145 149 154 159 164 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 142 144 149 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;]);
            logo(:,:,2) = uint8([ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 147 148 149 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 141 143 145 147 148 150 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 137 139 141 143 144 146 148 149 151 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 131 133 135 137 139 141 142 144 146 148 150 151 152 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 126 127 129 131 133 135 137 138 140 142 144 146 147 149 151 152 153 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 122 124 125 127 129 131 133 134 136 138 140 142 143 145 147 149 151 152 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 121 122 123 125 127 129 131 132 135 0 139 140 141 143 145 147 148 150 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 118 119 121 123 125 127 129 0 0 0 0 0 140 141 143 145 146 148 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 116 117 119 121 123 124 0 0 0 0 0 0 0 139 141 142 144 146 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 114 115 117 119 121 122 0 0 0 0 0 0 0 137 138 140 142 144 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 112 113 115 117 118 120 0 0 0 0 0 0 0 135 136 138 140 142 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 110 111 113 114 116 118 0 0 0 0 0 0 0 133 134 136 138 140 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 108 109 111 112 114 115 0 0 0 0 0 0 0 130 132 134 136 137 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 106 107 108 110 112 114 115 116 0 0 0 124 126 128 130 132 134 135 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 103 104 106 108 110 112 113 115 116 118 121 122 124 126 128 130 131 133 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 102 103 104 106 108 109 111 113 115 117 118 120 122 124 126 127 129 131 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 103 104 106 107 109 111 113 115 116 118 120 122 123 125 128 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 104 105 107 109 111 112 114 116 118 120 122 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 105 105 107 108 110 112 114 116 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 106 107 108 110 112 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 107 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
                ]);
        end
    end
    
    %% METODS INIT
    % ==================================================================================================================================================
    methods
        function  dependencies_ok = openSplashGUI(this)
            if ~isempty(this.w_splash) && isvalid(this.w_splash)
                close(this.w_splash);
            end            
            LIGHT_GRAY_BG = 0.85 * ones(3, 1);
            DARK_GRAY_BG = 0.18 * ones(3, 1);

            win = figure( 'Name', '', ...
                'Resize', 'off', ...
                'Visible', 'off', ...
                'MenuBar', 'none', ...
                'ToolBar', 'none', ...
                'NumberTitle', 'off' );
            win.Position(3) = 210;
            win.Position(4) = 92;
            
            this.w_splash = win;
                                   
            dependencies_ok = false;
            try
                main_grid = uix.Grid('Parent', win, ...
                    'Padding', 5, ...
                    'BackgroundColor', DARK_GRAY_BG);
                dependencies_ok = true;
            catch
                this.log.addError('Please install GUI Layout Toolbox (https://it.mathworks.com/matlabcentral/fileexchange/47982-gui-layout-toolbox)');
                close(win); 
                return
            end
            
            % Logo/title box -------------------------------------------------------------------------------------------
            
            % Logo
            logo_g_border0 = uix.Grid('Parent', main_grid, ...
                'Padding', 2, ...
                'BackgroundColor', LIGHT_GRAY_BG);
            logo_g_border1 = uix.Grid('Parent', logo_g_border0, ...
                'Padding', 2, ...
                'BackgroundColor', DARK_GRAY_BG);
            logo_g = uix.Grid('Parent', logo_g_border1, ...
                'Padding', 5, ...
                'BackgroundColor', LIGHT_GRAY_BG);
            
            logo_ax = axes( 'Parent', logo_g, 'Position', [10 5 64 64]);            
            [logo, transparency] = Core_UI.getLogo();
            logo(repmat(sum(logo,3) == 0,1,1,3)) = 0;
            logo = logo - 20;
            image(logo_ax, logo, 'AlphaData', transparency);
            logo_ax.XTickLabel = [];
            logo_ax.YTickLabel = [];
            axis off;

            % Title and description
            descr_bv = uix.VBox('Parent', logo_g, ...
                'BackgroundColor', LIGHT_GRAY_BG);
            title_txt = uicontrol('Parent', descr_bv, ...
                'Style', 'Text', ...
                'HorizontalAlignment', 'left', ...
                'String', '  goGPS', ...
                'BackgroundColor', LIGHT_GRAY_BG, ...
                'ForegroundColor', 0 * ones(3, 1), ...
                'FontName', 'verdana', ...
                'FontAngle', 'italic', ...
                'FontSize', this.getFontSize(15), ...
                'FontWeight', 'bold');
            descr_txt = uicontrol('Parent', descr_bv, ...
                'Style', 'Text', ...
                'String', 'open source positioning', ...
                'BackgroundColor', LIGHT_GRAY_BG, ...
                'ForegroundColor', 0 * ones(3, 1), ...
                'FontName', 'arial', ...
                'FontSize', this.getFontSize(6), ...
                'FontWeight', 'bold');
            version_txt = uicontrol('Parent', descr_bv, ...
                'Style', 'Text', ...
                'HorizontalAlignment', 'right', ...
                'String', [Core.GO_GPS_VERSION ' '], ...
                'BackgroundColor', LIGHT_GRAY_BG, ...
                'ForegroundColor', 0 * ones(3, 1), ...
                'FontName', 'verdana', ...
                'FontSize', this.getFontSize(4), ...
                'FontWeight', 'bold');
            uicontrol('Parent', descr_bv, 'Style', 'Text', 'BackgroundColor', LIGHT_GRAY_BG); 
            descr_bv.Heights = [-3.5 -2 -1 -0.5];
            
            main_grid.Heights = 82;
            main_grid.Widths = 200;
            logo_g.Widths = [64 -1];
            logo_g.Heights = 64;
            this.w_splash.Visible = 'on';            
        end
        
        function ok_go = openGUI(this)
            %%      
            
            % WIN CONFIGURATION
            % L| N|    W
            %  |  |
            %  |  |
            % ----------
            % b      b b
            %
            
            if ~isempty(this.w_main) && isvalid(this.w_main)
                close(this.w_main);
            end            
            LIGHT_GRAY_BG = 0.85 * ones(3, 1);
            DARK_GRAY_BG = 0.18 * ones(3, 1);
                        
            t0 = tic();
            this.ok_go = false;

            % Main Window ----------------------------------------------------------------------------------------------
            
            win = figure( 'Name', sprintf('%s @ %s', this.state.getPrjName, this.state.getHomeDir), ...
                'Visible', 'off', ...
                'MenuBar', 'none', ...
                'ToolBar', 'none', ...
                'NumberTitle', 'off' );
            win.Position(3) = 1000;
            win.Position(4) = 600;
            this.w_main = win;
            
            try
                main_bv = uix.VBox('Parent', win, ...
                    'Padding', 5, ...
                    'BackgroundColor', DARK_GRAY_BG);
            catch
                this.log.addError('Please install GUI Layout Toolbox (https://it.mathworks.com/matlabcentral/fileexchange/47982-gui-layout-toolbox)');
                close(win); 
                return;
            end
            top_bh = uix.HBox( 'Parent', main_bv);
            
            left_bv = uix.VBox('Parent', top_bh, ...
                'Padding', 5, ...
                'BackgroundColor', DARK_GRAY_BG);
            
            % Logo/title box -------------------------------------------------------------------------------------------
            
            % Logo
            logo_g_border0 = uix.Grid('Parent', left_bv, ...
                'Padding', 2, ...
                'BackgroundColor', LIGHT_GRAY_BG);
            logo_g_border1 = uix.Grid('Parent', logo_g_border0, ...
                'Padding', 2, ...
                'BackgroundColor', DARK_GRAY_BG);
            logo_g = uix.Grid('Parent', logo_g_border1, ...
                'Padding', 5, ...
                'BackgroundColor', LIGHT_GRAY_BG);
            
            logo_ax = axes( 'Parent', logo_g);
            [logo, transparency] = Core_UI.getLogo();
            logo(repmat(sum(logo,3) == 0,1,1,3)) = 0;
            logo = logo - 20;
            image(logo_ax, logo, 'AlphaData', transparency);
            logo_ax.XTickLabel = [];
            logo_ax.YTickLabel = [];
            axis off;

            % Title and description
            descr_bv = uix.VBox('Parent', logo_g, ...
                'BackgroundColor', LIGHT_GRAY_BG);
            title_txt = uicontrol('Parent', descr_bv, ...
                'Style', 'Text', ...
                'HorizontalAlignment', 'left', ...
                'String', '  goGPS', ...
                'BackgroundColor', LIGHT_GRAY_BG, ...
                'ForegroundColor', 0 * ones(3, 1), ...
                'FontName', 'verdana', ...
                'FontAngle', 'italic', ...
                'FontSize', this.getFontSize(15), ...
                'FontWeight', 'bold');
            descr_txt = uicontrol('Parent', descr_bv, ...
                'Style', 'Text', ...
                'String', 'open source positioning', ...
                'BackgroundColor', LIGHT_GRAY_BG, ...
                'ForegroundColor', 0 * ones(3, 1), ...
                'FontName', 'arial', ...
                'FontSize', this.getFontSize(6), ...
                'FontWeight', 'bold');
            version_txt = uicontrol('Parent', descr_bv, ...
                'Style', 'Text', ...
                'HorizontalAlignment', 'right', ...
                'String', [Core.GO_GPS_VERSION ' '], ...
                'BackgroundColor', LIGHT_GRAY_BG, ...
                'ForegroundColor', 0 * ones(3, 1), ...
                'FontName', 'verdana', ...
                'FontSize', this.getFontSize(4), ...
                'FontWeight', 'bold');
            uicontrol('Parent', descr_bv, 'Style', 'Text', 'BackgroundColor', LIGHT_GRAY_BG); 
            descr_bv.Heights = [-3.5 -2 -1 -0.5];
            
            % Main Panel -----------------------------------------------------------------------------------------------
            
            panel_g_border = uix.Grid('Parent', top_bh, ...
                'Padding', 5, ...
                'BackgroundColor', DARK_GRAY_BG);
            %panel = uix.BoxPanel('Parent', panel_border, 'Title', 'Settings' );
            
            tab_panel = uix.TabPanel('Parent', panel_g_border, ...
                'Padding', 5, ...
                'BackgroundColor', LIGHT_GRAY_BG);
            
            % Main Panel -----------------------------------------------------------------------------------------------
            % Main Panel > tab1 settings -------------------------------------------------------------------------------
            tab1 = uix.Grid('Parent', tab_panel);
            
            j_settings = com.mathworks.widgets.SyntaxTextPane;
            codeType = j_settings.M_MIME_TYPE;  % j_settings.contentType='text/m-MATLAB'
            j_settings.setContentType(codeType);
            str = strrep(strCell2Str(this.state.export(), 10),'#','%');
            j_settings.setText(str);
            % Create the ScrollPanel containing the widget
            j_scroll_settings = com.mathworks.mwswing.MJScrollPane(j_settings);
            % Inject edit box with the Java Scroll Pane into the main_window
            [panel_j, panel_h] = javacomponent(j_scroll_settings, [1 1 1 1], tab1);
            
            this.j_settings = j_settings;
            
            tab1_bvr = uix.VButtonBox( 'Parent', tab1, ...
                'Spacing', 5, ...
                'VerticalAlignment', 'top', ...
                'HorizontalAlignment', 'right', ...
                'BackgroundColor', LIGHT_GRAY_BG);

            refresh_but = uicontrol( 'Parent', tab1_bvr, ...
                'String', 'Refresh', ...
                'Callback', @this.refreshIni);           
            
            % Main Panel > tab2 remote resource ini --------------------------------------------------------------------
            enable_rri = true;
            if enable_rri
                tab2 = uix.Grid('Parent', tab_panel);
                
                tab2_bv = uix.VBox( 'Parent', tab2, ...
                    'Spacing', 5, ...
                    'BackgroundColor', LIGHT_GRAY_BG);
                
                uicontrol('Parent', tab2_bv, ...
                    'Style', 'Text', ...
                    'String', 'Remote Resources ini file - not editable from GUI', ...
                    'BackgroundColor', LIGHT_GRAY_BG, ...
                    'ForegroundColor', 0 * ones(3, 1), ...
                    'FontName', 'arial', ...
                    'FontSize', this.getFontSize(10), ...
                    'FontWeight', 'bold');
                
                uicontrol('Parent', tab2_bv, ...
                    'Style', 'Text', ...
                    'String', this.state.getRemoteSourceFile, ...
                    'BackgroundColor', LIGHT_GRAY_BG, ...
                    'ForegroundColor', 0.3 * ones(3, 1), ...
                    'FontName', 'arial', ...
                    'FontSize', this.getFontSize(7));
                
                j_rrini = com.mathworks.widgets.SyntaxTextPane;
                codeType = j_rrini.M_MIME_TYPE;  % j_settings.contentType='text/m-MATLAB'
                j_rrini.setContentType(codeType);
                try
                    file_name = this.state.getRemoteSourceFile;
                    fid = fopen(file_name);
                    str = fread(fid, '*char')';
                    str = strrep(str,'#','%');
                    fclose(fid);
                catch
                    str = sprintf('[!!] Resource file missing:\n"%s"\nnot found\n\ngoGPS may not work properly', this.state.getRemoteSourceFile);
                end
                
                j_rrini.setText(str);
                j_rrini.setEditable(0)
                % Create the ScrollPanel containing the widget
                j_scroll_rri = com.mathworks.mwswing.MJScrollPane(j_rrini);
                % Inject edit box with the Java Scroll Pane into the main_window
                javacomponent(j_scroll_rri, [1 1 1 1], tab2_bv);
            end
            
            % Tabs settings --------------------------------------------------------------------------------------------
            
            if enable_rri
                tab_panel.TabTitles = {'Settings', 'Resources'};
            else
                tab_panel.TabTitles = {'Settings'};
            end
            tab1.Widths = [-1 64];
            if enable_rri
                tab2_bv.Heights = [20 15 -1];
            end
            
            % Empty space ----------------------------------------------------------------------------------------------
            
            uicontrol('Parent', left_bv, 'Style', 'Text', 'BackgroundColor', DARK_GRAY_BG); 
            
            % Botton Panel ---------------------------------------------------------------------------------------------            
            bottom_bh = uix.HBox( 'Parent', main_bv, ...
                'Padding', 5, ...
                'Spacing', 5, ...
                'BackgroundColor', 0.14 * [1 1 1]);
            
            bottom_bhl = uix.HButtonBox( 'Parent', bottom_bh, ...
                'Spacing', 5, ...
                'HorizontalAlignment', 'left', ...
                'BackgroundColor', 0.14 * [1 1 1]);
            
            bottom_bhr = uix.HButtonBox( 'Parent', bottom_bh, ...
                'Spacing', 5, ...
                'HorizontalAlignment', 'right', ...
                'BackgroundColor', 0.14 * [1 1 1]);

            exit_but = uicontrol( 'Parent', bottom_bhl, ...
                'String', 'Exit', ...
                'Callback', @this.close);

            load_but = uicontrol( 'Parent', bottom_bhr, ...
                'String', 'Load', ...
                'Callback', @this.loadState);
            save_but = uicontrol( 'Parent', bottom_bhr, ...
                'String', 'Save', ...
                'Callback', @this.saveState);
            go_but = uicontrol( 'Parent', bottom_bhr, ...
                'String', 'go!', ...
                'FontAngle', 'italic', ...
                'Callback', @this.go, ...
                'FontWeight', 'bold');

            % Manage dimension -------------------------------------------------------------------------------------------
            
            main_bv.Heights = [-1 30];
            left_bv.Heights = [82 -1];
            top_bh.Widths = [200 -1];
            logo_g.Widths = [64 -1];
            logo_g.Heights = 64;
            
            this.w_main.Visible = 'on';
            t_win = toc(t0);
            this.log.addStatusOk(sprintf('goGPS GUI initialization completed in %.2f seconds\n', t_win));
            uiwait(this.w_main);
        end
    end
    
    %% METODS getters
    % ==================================================================================================================================================
    methods        
        function ok_go = isGo(this)
            ok_go = this.ok_go;
        end
        
        function os_size = getSizeConversion(this)
            if isunix()
                if ismac()
                    os_size = this.FONT_SIZE_CONVERSION_MAC;
                else
                    os_size = this.FONT_SIZE_CONVERSION_LNX;
                end
            else
                 os_size = this.FONT_SIZE_CONVERSION_WIN;
            end
        end
        
        function font_o = getFontSize(this, font_i)
            font_o = round(font_i * this.getSizeConversion());
        end
    end
    
    %% METODS UTILITIES
    % ==================================================================================================================================================
    methods (Access = private)  
        function refreshIni(this, caller, event)
            txt = textscan(strrep(char(this.j_settings.getText()),'%','#'),'%s','Delimiter', '\n');
            this.state.import(Ini_Manager(txt{1}));
            this.updateSettingsUI();
        end
        
        function loadState(this, caller, event)
            % Load state settings

            config_dir = this.state.getHomeDir();
            if exist([config_dir filesep 'config'], 'dir')
                config_dir = [config_dir filesep 'config'];
            end
            % On MacOS this doesn't work anymore: [file_name, pathname] = uigetfile({'*.ini;','INI configuration file (*.ini)'; '*.mat;','state file goGPS < 0.5 (*.mat)'}, 'Choose file with saved settings', config_dir);
            [file_name, path_name] = uigetfile('*.ini', 'Choose file with saved settings', config_dir);

            if path_name ~= 0 % if the user pressed cancelled, then we exit this callback
                % get the extension (mat/ini):
                [~, ~, ext] = fileparts(file_name);
                
                % build the path name of the file to be loaded
                settings_file = fullfile(path_name, file_name);
                
                if strcmp(ext, '.ini')
                    this.state.importIniFile(settings_file);
                    this.updateSettingsUI();
                else
                    this.log.addError('Unrecognized input file format!');
                end
            end
        end
        
        function saveState(this, caller, event)
            % Save state settings
            config_dir = this.state.getHomeDir();
            if exist([config_dir filesep 'config'], 'dir')
                config_dir = [config_dir filesep 'config'];
            end
            [file_name, path_name] = uiputfile('*.ini','Save your settings', config_dir);

            if path_name == 0 %if the user pressed cancelled, then we exit this callback
                return
            end
            % build the path name of the save location
            settings_file = fullfile(path_name,file_name);
            
            try
                if this.j_settings.isValid
                    txt = textscan(strrep(char(this.j_settings.getText()),'%','#'),'%s','Delimiter', '\n');
                    this.state.import(Ini_Manager(txt{1}));
                    this.state.setFilePath(settings_file);
                    this.state.save(settings_file);
                    this.updateSettingsUI();
                    this.log.addMarkedMessage(sprintf('The file has been saved correctly on:\n     %s', settings_file));
                else
                    this.log.addError(sprintf('File not saved, GUI have been closed\n%s'));
                end
            catch ex
                this.log.addError(sprintf('Export failed!\n%s', ex.message));
            end
        end
        
        function close(this, caller, event)
            close(this.w_main);
        end
        
        function go(this, caller, event)
            this.log.addMarkedMessage('Starting computation!');
            txt = textscan(strrep(char(this.j_settings.getText()),'%','#'),'%s','Delimiter', '\n');
            this.state.import(Ini_Manager(txt{1}));
            this.state.save(Main_Settings.LAST_SETTINGS);
            close(this.w_main);
            this.ok_go = true;
        end
        
        function updateSettingsUI(this)
            if ~isempty(this.w_main) && isvalid(this.w_main)
                this.w_main.Name = sprintf('%s @ %s', this.state.getPrjName, this.state.getHomeDir);
                
                if this.j_settings.isValid
                    str = strrep(strCell2Str(this.state.export(), 10),'#','%');
                    this.j_settings.setText(str);
                end
            end
        end
    end

    methods % Public Access (Legacy support)
        
    end

end
